{"map":"{\"version\":3,\"sources\":[\"src/pages/oj/views/rank/ACMRank.vue\",\"/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/lib/template-compiler/index.js?{\\\"id\\\":\\\"data-v-2aba2f04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/lib/selector.js?type=template&index=0!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/src/pages/oj/views/rank/ACMRank.vue\",\"/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/index.js??ref--1!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/eslint-loader/index.js??ref--0!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/src/pages/oj/views/rank/ACMRank.vue\",\"src/pages/oj/views/rank/OIRank.vue\",\"/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/lib/template-compiler/index.js?{\\\"id\\\":\\\"data-v-ed093576\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/lib/selector.js?type=template&index=0!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/src/pages/oj/views/rank/OIRank.vue\",\"/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/vue-loader/index.js??ref--1!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/node_modules/eslint-loader/index.js??ref--0!/root/OnlineJudge_BasedOnQDU/OnlineJudgeFE/src/pages/oj/views/rank/OIRank.vue\"],\"names\":[\"ACMRank\",\"name\",\"components\",\"Pagination\",\"data\",\"_this\",\"this\",\"page\",\"limit\",\"total\",\"loadingTable\",\"dataRank\",\"columns\",\"align\",\"width\",\"render\",\"h\",\"params\",\"index\",\"title\",\"$i18n\",\"t\",\"style\",\"display\",\"max-width\",\"on\",\"click\",\"$router\",\"push\",\"query\",\"username\",\"row\",\"user\",\"key\",\"utils\",\"getACRate\",\"accepted_number\",\"submission_number\",\"options\",\"tooltip\",\"trigger\",\"legend\",\"grid\",\"x\",\"x2\",\"toolbox\",\"show\",\"feature\",\"dataView\",\"readOnly\",\"magicType\",\"type\",\"saveAsImage\",\"right\",\"calculable\",\"xAxis\",\"axisLabel\",\"interval\",\"showMinLabel\",\"showMaxLabel\",\"formatter\",\"value\",\"breakLongWords\",\"yAxis\",\"series\",\"markPoint\",\"mounted\",\"getRankData\",\"methods\",\"_this2\",\"offset\",\"bar\",\"$refs\",\"chart\",\"showLoading\",\"maskColor\",\"api\",\"getUserRank\",\"constants\",\"ACM\",\"then\",\"res\",\"changeCharts\",\"results\",\"slice\",\"hideLoading\",\"catch\",\"rankData\",\"usernames\",\"acData\",\"totalData\",\"forEach\",\"ele\",\"rank_ACMRank\",\"_vm\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"attrs\",\"justify\",\"span\",\"padding\",\"slot\",\"_v\",\"_s\",\"$t\",\"staticClass\",\"ref\",\"auto-resize\",\"loading\",\"size\",\"page-size\",\"current\",\"show-sizer\",\"update:pageSize\",\"$event\",\"update:page-size\",\"update:current\",\"on-change\",\"on-page-size-change\",\"staticRenderFns\",\"Component\",\"__webpack_require__\",\"normalizeComponent\",\"ssrContext\",\"__webpack_exports__\",\"OIRank\",\"boundaryGap\",\"axisTick\",\"alignWithLabel\",\"barMaxWidth\",\"OI\",\"scores\",\"total_score\",\"rank_OIRank\"],\"mappings\":\"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\",\"sourcesContent\":[\"<template>\\n  <Row type=\\\"flex\\\" justify=\\\"space-around\\\">\\n    <Col :span=\\\"22\\\">\\n    <Panel :padding=\\\"10\\\">\\n      <div slot=\\\"title\\\">{{$t('m.ACM_Ranklist')}}</div>\\n      <div class=\\\"echarts\\\">\\n        <ECharts :options=\\\"options\\\" ref=\\\"chart\\\" auto-resize></ECharts>\\n      </div>\\n    </Panel>\\n    <Table :data=\\\"dataRank\\\" :columns=\\\"columns\\\" :loading=\\\"loadingTable\\\" size=\\\"large\\\"></Table>\\n    <Pagination :total=\\\"total\\\" :page-size.sync=\\\"limit\\\" :current.sync=\\\"page\\\"\\n                @on-change=\\\"getRankData\\\" show-sizer\\n                @on-page-size-change=\\\"getRankData(1)\\\"></Pagination>\\n    </Col>\\n  </Row>\\n</template>\\n\\n<script>\\n  import api from '@oj/api'\\n  import Pagination from '@oj/components/Pagination'\\n  import utils from '@/utils/utils'\\n  import { RULE_TYPE } from '@/utils/constants'\\n\\n  export default {\\n    name: 'acm-rank',\\n    components: {\\n      Pagination\\n    },\\n    data () {\\n      return {\\n        page: 1,\\n        limit: 30,\\n        total: 0,\\n        loadingTable: false,\\n        dataRank: [],\\n        columns: [\\n          {\\n            align: 'center',\\n            width: 60,\\n            render: (h, params) => {\\n              return h('span', {}, params.index + (this.page - 1) * this.limit + 1)\\n            }\\n          },\\n          {\\n            title: this.$i18n.t('m.User_User'),\\n            align: 'center',\\n            render: (h, params) => {\\n              return h('a', {\\n                style: {\\n                  'display': 'inline-block',\\n                  'max-width': '200px'\\n                },\\n                on: {\\n                  click: () => {\\n                    this.$router.push(\\n                      {\\n                        name: 'user-home',\\n                        query: {username: params.row.user.username}\\n                      })\\n                  }\\n                }\\n              }, params.row.user.username)\\n            }\\n          },\\n          {\\n            title: this.$i18n.t('m.mood'),\\n            align: 'center',\\n            key: 'mood'\\n          },\\n          {\\n            title: this.$i18n.t('m.AC'),\\n            align: 'center',\\n            key: 'accepted_number'\\n          },\\n          {\\n            title: this.$i18n.t('m.Total'),\\n            align: 'center',\\n            key: 'submission_number'\\n          },\\n          {\\n            title: this.$i18n.t('m.Rating'),\\n            align: 'center',\\n            render: (h, params) => {\\n              return h('span', utils.getACRate(params.row.accepted_number, params.row.submission_number))\\n            }\\n          }\\n        ],\\n        options: {\\n          tooltip: {\\n            trigger: 'axis'\\n          },\\n          legend: {\\n            data: [this.$i18n.t('m.AC'), this.$i18n.t('m.Total')]\\n          },\\n          grid: {\\n            x: '3%',\\n            x2: '3%'\\n          },\\n          toolbox: {\\n            show: true,\\n            feature: {\\n              dataView: {show: true, readOnly: true},\\n              magicType: {show: true, type: ['line', 'bar', 'stack']},\\n              saveAsImage: {show: true}\\n            },\\n            right: '10%'\\n          },\\n          calculable: true,\\n          xAxis: [\\n            {\\n              type: 'category',\\n              data: ['root'],\\n              axisLabel: {\\n                interval: 0,\\n                showMinLabel: true,\\n                showMaxLabel: true,\\n                align: 'center',\\n                formatter: (value, index) => {\\n                  return utils.breakLongWords(value, 10)\\n                }\\n              }\\n            }\\n          ],\\n          yAxis: [\\n            {\\n              type: 'value'\\n            }\\n          ],\\n          series: [\\n            {\\n              name: this.$i18n.t('m.AC'),\\n              type: 'bar',\\n              data: [0],\\n              markPoint: {\\n                data: [\\n                  {type: 'max', name: 'max'}\\n                ]\\n              }\\n            },\\n            {\\n              name: this.$i18n.t('m.Total'),\\n              type: 'bar',\\n              data: [0],\\n              markPoint: {\\n                data: [\\n                  {type: 'max', name: 'max'}\\n                ]\\n              }\\n            }\\n          ]\\n        }\\n      }\\n    },\\n    mounted () {\\n      this.getRankData(1)\\n    },\\n    methods: {\\n      getRankData (page) {\\n        let offset = (page - 1) * this.limit\\n        let bar = this.$refs.chart\\n        bar.showLoading({maskColor: 'rgba(250, 250, 250, 0.8)'})\\n        this.loadingTable = true\\n        api.getUserRank(offset, this.limit, RULE_TYPE.ACM).then(res => {\\n          this.loadingTable = false\\n          if (page === 1) {\\n            this.changeCharts(res.data.data.results.slice(0, 10))\\n          }\\n          this.total = res.data.data.total\\n          this.dataRank = res.data.data.results\\n          bar.hideLoading()\\n        }).catch(() => {\\n          this.loadingTable = false\\n          bar.hideLoading()\\n        })\\n      },\\n      changeCharts (rankData) {\\n        let [usernames, acData, totalData] = [[], [], []]\\n        rankData.forEach(ele => {\\n          usernames.push(ele.user.username)\\n          acData.push(ele.accepted_number)\\n          totalData.push(ele.submission_number)\\n        })\\n        this.options.xAxis[0].data = usernames\\n        this.options.series[0].data = acData\\n        this.options.series[1].data = totalData\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped lang=\\\"less\\\">\\n  .echarts {\\n    margin: 0 auto;\\n    width: 95%;\\n    height: 400px;\\n  }\\n</style>\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{attrs:{\\\"type\\\":\\\"flex\\\",\\\"justify\\\":\\\"space-around\\\"}},[_c('Col',{attrs:{\\\"span\\\":22}},[_c('Panel',{attrs:{\\\"padding\\\":10}},[_c('div',{attrs:{\\\"slot\\\":\\\"title\\\"},slot:\\\"title\\\"},[_vm._v(_vm._s(_vm.$t('m.ACM_Ranklist')))]),_vm._v(\\\" \\\"),_c('div',{staticClass:\\\"echarts\\\"},[_c('ECharts',{ref:\\\"chart\\\",attrs:{\\\"options\\\":_vm.options,\\\"auto-resize\\\":\\\"\\\"}})],1)]),_vm._v(\\\" \\\"),_c('Table',{attrs:{\\\"data\\\":_vm.dataRank,\\\"columns\\\":_vm.columns,\\\"loading\\\":_vm.loadingTable,\\\"size\\\":\\\"large\\\"}}),_vm._v(\\\" \\\"),_c('Pagination',{attrs:{\\\"total\\\":_vm.total,\\\"page-size\\\":_vm.limit,\\\"current\\\":_vm.page,\\\"show-sizer\\\":\\\"\\\"},on:{\\\"update:pageSize\\\":function($event){_vm.limit=$event},\\\"update:page-size\\\":function($event){_vm.limit=$event},\\\"update:current\\\":function($event){_vm.page=$event},\\\"on-change\\\":_vm.getRankData,\\\"on-page-size-change\\\":function($event){return _vm.getRankData(1)}}})],1)],1)}\\nvar staticRenderFns = []\\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\\nexport default esExports\",\"function injectStyle (ssrContext) {\\n  require(\\\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\\\\\"omit\\\\\\\":1,\\\\\\\"remove\\\\\\\":true}!vue-style-loader!css-loader?{\\\\\\\"minimize\\\\\\\":true,\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\\\\\"vue\\\\\\\":true,\\\\\\\"id\\\\\\\":\\\\\\\"data-v-2aba2f04\\\\\\\",\\\\\\\"scoped\\\\\\\":true,\\\\\\\"hasInlineConfig\\\\\\\":false}!less-loader?{\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ACMRank.vue\\\")\\n}\\nvar normalizeComponent = require(\\\"!../../../../../node_modules/vue-loader/lib/component-normalizer\\\")\\n/* script */\\nexport * from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ACMRank.vue\\\"\\nimport __vue_script__ from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ACMRank.vue\\\"\\n/* template */\\nimport __vue_template__ from \\\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\\\\\"id\\\\\\\":\\\\\\\"data-v-2aba2f04\\\\\\\",\\\\\\\"hasScoped\\\\\\\":true,\\\\\\\"transformToRequire\\\\\\\":{\\\\\\\"video\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"source\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"img\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"image\\\\\\\":\\\\\\\"xlink:href\\\\\\\"},\\\\\\\"buble\\\\\\\":{\\\\\\\"transforms\\\\\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ACMRank.vue\\\"\\n/* template functional */\\nvar __vue_template_functional__ = false\\n/* styles */\\nvar __vue_styles__ = injectStyle\\n/* scopeId */\\nvar __vue_scopeId__ = \\\"data-v-2aba2f04\\\"\\n/* moduleIdentifier (server only) */\\nvar __vue_module_identifier__ = null\\nvar Component = normalizeComponent(\\n  __vue_script__,\\n  __vue_template__,\\n  __vue_template_functional__,\\n  __vue_styles__,\\n  __vue_scopeId__,\\n  __vue_module_identifier__\\n)\\n\\nexport default Component.exports\\n\",\"<template>\\n  <Row type=\\\"flex\\\" justify=\\\"space-around\\\">\\n    <Col :span=\\\"22\\\">\\n    <Panel :padding=\\\"10\\\">\\n      <div slot=\\\"title\\\">{{$t('m.OI_Ranklist')}}</div>\\n      <div class=\\\"echarts\\\">\\n        <ECharts :options=\\\"options\\\" ref=\\\"chart\\\" auto-resize></ECharts>\\n      </div>\\n    </Panel>\\n    <Table :data=\\\"dataRank\\\" :columns=\\\"columns\\\" size=\\\"large\\\"></Table>\\n    <Pagination :total=\\\"total\\\" :page-size.sync=\\\"limit\\\" :current.sync=\\\"page\\\"\\n                @on-change=\\\"getRankData\\\"\\n                show-sizer @on-page-size-change=\\\"getRankData(1)\\\"></Pagination>\\n    </Col>\\n  </Row>\\n</template>\\n\\n<script>\\n  import api from '@oj/api'\\n  import Pagination from '@oj/components/Pagination'\\n  import utils from '@/utils/utils'\\n  import { RULE_TYPE } from '@/utils/constants'\\n\\n  export default {\\n    name: 'acm-rank',\\n    components: {\\n      Pagination\\n    },\\n    data () {\\n      return {\\n        page: 1,\\n        limit: 30,\\n        total: 0,\\n        dataRank: [],\\n        columns: [\\n          {\\n            align: 'center',\\n            width: 60,\\n            render: (h, params) => {\\n              return h('span', {}, params.index + (this.page - 1) * this.limit + 1)\\n            }\\n          },\\n          {\\n            title: this.$i18n.t('m.User_User'),\\n            align: 'center',\\n            render: (h, params) => {\\n              return h('a', {\\n                style: {\\n                  'display': 'inline-block',\\n                  'max-width': '200px'\\n                },\\n                on: {\\n                  click: () => {\\n                    this.$router.push(\\n                      {\\n                        name: 'user-home',\\n                        query: {username: params.row.user.username}\\n                      })\\n                  }\\n                }\\n              }, params.row.user.username)\\n            }\\n          },\\n          {\\n            title: this.$i18n.t('m.mood'),\\n            align: 'center',\\n            key: 'mood'\\n          },\\n          {\\n            title: this.$i18n.t('m.Score'),\\n            align: 'center',\\n            key: 'total_score'\\n          },\\n          {\\n            title: this.$i18n.t('m.AC'),\\n            align: 'center',\\n            key: 'accepted_number'\\n          },\\n          {\\n            title: this.$i18n.t('m.Total'),\\n            align: 'center',\\n            key: 'submission_number'\\n          },\\n          {\\n            title: this.$i18n.t('m.Rating'),\\n            align: 'center',\\n            render: (h, params) => {\\n              return h('span', utils.getACRate(params.row.accepted_number, params.row.submission_number))\\n            }\\n          }\\n        ],\\n        options: {\\n          tooltip: {\\n            trigger: 'axis'\\n          },\\n          legend: {\\n            data: [this.$i18n.t('m.Score')]\\n          },\\n          grid: {\\n            x: '3%',\\n            x2: '3%'\\n          },\\n          toolbox: {\\n            show: true,\\n            feature: {\\n              dataView: {show: true, readOnly: true},\\n              magicType: {show: true, type: ['line', 'bar']},\\n              saveAsImage: {show: true}\\n            },\\n            right: '10%'\\n          },\\n          calculable: true,\\n          xAxis: [\\n            {\\n              type: 'category',\\n              data: ['root'],\\n              boundaryGap: true,\\n              axisLabel: {\\n                interval: 0,\\n                showMinLabel: true,\\n                showMaxLabel: true,\\n                align: 'center',\\n                formatter: (value, index) => {\\n                  return utils.breakLongWords(value, 14)\\n                }\\n              },\\n              axisTick: {\\n                alignWithLabel: true\\n              }\\n            }\\n          ],\\n          yAxis: [\\n            {\\n              type: 'value'\\n            }\\n          ],\\n          series: [\\n            {\\n              name: this.$i18n.t('m.Score'),\\n              type: 'bar',\\n              data: [0],\\n              barMaxWidth: '80',\\n              markPoint: {\\n                data: [\\n                  {type: 'max', name: 'max'}\\n                ]\\n              }\\n            }\\n          ]\\n        }\\n      }\\n    },\\n    mounted () {\\n      this.getRankData(1)\\n    },\\n    methods: {\\n      getRankData (page) {\\n        let offset = (page - 1) * this.limit\\n        let bar = this.$refs.chart\\n        bar.showLoading({maskColor: 'rgba(250, 250, 250, 0.8)'})\\n        api.getUserRank(offset, this.limit, RULE_TYPE.OI).then(res => {\\n          if (page === 1) {\\n            this.changeCharts(res.data.data.results.slice(0, 10))\\n          }\\n          this.total = res.data.data.total\\n          this.dataRank = res.data.data.results\\n          bar.hideLoading()\\n        })\\n      },\\n      changeCharts (rankData) {\\n        let [usernames, scores] = [[], []]\\n        rankData.forEach(ele => {\\n          usernames.push(ele.user.username)\\n          scores.push(ele.total_score)\\n        })\\n        this.options.xAxis[0].data = usernames\\n        this.options.series[0].data = scores\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped lang=\\\"less\\\">\\n  .echarts {\\n    margin: 0 auto;\\n    width: 95%;\\n    height: 400px;\\n  }\\n</style>\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{attrs:{\\\"type\\\":\\\"flex\\\",\\\"justify\\\":\\\"space-around\\\"}},[_c('Col',{attrs:{\\\"span\\\":22}},[_c('Panel',{attrs:{\\\"padding\\\":10}},[_c('div',{attrs:{\\\"slot\\\":\\\"title\\\"},slot:\\\"title\\\"},[_vm._v(_vm._s(_vm.$t('m.OI_Ranklist')))]),_vm._v(\\\" \\\"),_c('div',{staticClass:\\\"echarts\\\"},[_c('ECharts',{ref:\\\"chart\\\",attrs:{\\\"options\\\":_vm.options,\\\"auto-resize\\\":\\\"\\\"}})],1)]),_vm._v(\\\" \\\"),_c('Table',{attrs:{\\\"data\\\":_vm.dataRank,\\\"columns\\\":_vm.columns,\\\"size\\\":\\\"large\\\"}}),_vm._v(\\\" \\\"),_c('Pagination',{attrs:{\\\"total\\\":_vm.total,\\\"page-size\\\":_vm.limit,\\\"current\\\":_vm.page,\\\"show-sizer\\\":\\\"\\\"},on:{\\\"update:pageSize\\\":function($event){_vm.limit=$event},\\\"update:page-size\\\":function($event){_vm.limit=$event},\\\"update:current\\\":function($event){_vm.page=$event},\\\"on-change\\\":_vm.getRankData,\\\"on-page-size-change\\\":function($event){return _vm.getRankData(1)}}})],1)],1)}\\nvar staticRenderFns = []\\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\\nexport default esExports\",\"function injectStyle (ssrContext) {\\n  require(\\\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\\\\\"omit\\\\\\\":1,\\\\\\\"remove\\\\\\\":true}!vue-style-loader!css-loader?{\\\\\\\"minimize\\\\\\\":true,\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\\\\\"vue\\\\\\\":true,\\\\\\\"id\\\\\\\":\\\\\\\"data-v-ed093576\\\\\\\",\\\\\\\"scoped\\\\\\\":true,\\\\\\\"hasInlineConfig\\\\\\\":false}!less-loader?{\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OIRank.vue\\\")\\n}\\nvar normalizeComponent = require(\\\"!../../../../../node_modules/vue-loader/lib/component-normalizer\\\")\\n/* script */\\nexport * from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OIRank.vue\\\"\\nimport __vue_script__ from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OIRank.vue\\\"\\n/* template */\\nimport __vue_template__ from \\\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\\\\\"id\\\\\\\":\\\\\\\"data-v-ed093576\\\\\\\",\\\\\\\"hasScoped\\\\\\\":true,\\\\\\\"transformToRequire\\\\\\\":{\\\\\\\"video\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"source\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"img\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"image\\\\\\\":\\\\\\\"xlink:href\\\\\\\"},\\\\\\\"buble\\\\\\\":{\\\\\\\"transforms\\\\\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OIRank.vue\\\"\\n/* template functional */\\nvar __vue_template_functional__ = false\\n/* styles */\\nvar __vue_styles__ = injectStyle\\n/* scopeId */\\nvar __vue_scopeId__ = \\\"data-v-ed093576\\\"\\n/* moduleIdentifier (server only) */\\nvar __vue_module_identifier__ = null\\nvar Component = normalizeComponent(\\n  __vue_script__,\\n  __vue_template__,\\n  __vue_template_functional__,\\n  __vue_styles__,\\n  __vue_scopeId__,\\n  __vue_module_identifier__\\n)\\n\\nexport default Component.exports\\n\"]}","code":"webpackJsonp([3],{\"8Yd/\":function(t,a){},dUHu:function(t,a){},iKNO:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=e(\"8Q2T\"),i=e(\"26Oo\"),s=e(\"oAV5\"),r=e(\"FN8c\"),o={name:\"acm-rank\",components:{Pagination:i.a},data:function(){var t=this;return{page:1,limit:30,total:0,loadingTable:!1,dataRank:[],columns:[{align:\"center\",width:60,render:function(a,e){return a(\"span\",{},e.index+(t.page-1)*t.limit+1)}},{title:this.$i18n.t(\"m.User_User\"),align:\"center\",render:function(a,e){return a(\"a\",{style:{display:\"inline-block\",\"max-width\":\"200px\"},on:{click:function(){t.$router.push({name:\"user-home\",query:{username:e.row.user.username}})}}},e.row.user.username)}},{title:this.$i18n.t(\"m.mood\"),align:\"center\",key:\"mood\"},{title:this.$i18n.t(\"m.AC\"),align:\"center\",key:\"accepted_number\"},{title:this.$i18n.t(\"m.Total\"),align:\"center\",key:\"submission_number\"},{title:this.$i18n.t(\"m.Rating\"),align:\"center\",render:function(t,a){return t(\"span\",s.a.getACRate(a.row.accepted_number,a.row.submission_number))}}],options:{tooltip:{trigger:\"axis\"},legend:{data:[this.$i18n.t(\"m.AC\"),this.$i18n.t(\"m.Total\")]},grid:{x:\"3%\",x2:\"3%\"},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:[\"line\",\"bar\",\"stack\"]},saveAsImage:{show:!0}},right:\"10%\"},calculable:!0,xAxis:[{type:\"category\",data:[\"root\"],axisLabel:{interval:0,showMinLabel:!0,showMaxLabel:!0,align:\"center\",formatter:function(t,a){return s.a.breakLongWords(t,10)}}}],yAxis:[{type:\"value\"}],series:[{name:this.$i18n.t(\"m.AC\"),type:\"bar\",data:[0],markPoint:{data:[{type:\"max\",name:\"max\"}]}},{name:this.$i18n.t(\"m.Total\"),type:\"bar\",data:[0],markPoint:{data:[{type:\"max\",name:\"max\"}]}}]}}},mounted:function(){this.getRankData(1)},methods:{getRankData:function(t){var a=this,e=(t-1)*this.limit,i=this.$refs.chart;i.showLoading({maskColor:\"rgba(250, 250, 250, 0.8)\"}),this.loadingTable=!0,n.a.getUserRank(e,this.limit,r.g.ACM).then(function(e){a.loadingTable=!1,1===t&&a.changeCharts(e.data.data.results.slice(0,10)),a.total=e.data.data.total,a.dataRank=e.data.data.results,i.hideLoading()}).catch(function(){a.loadingTable=!1,i.hideLoading()})},changeCharts:function(t){var a=[],e=[],n=[];t.forEach(function(t){a.push(t.user.username),e.push(t.accepted_number),n.push(t.submission_number)}),this.options.xAxis[0].data=a,this.options.series[0].data=e,this.options.series[1].data=n}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[e(\"Col\",{attrs:{span:22}},[e(\"Panel\",{attrs:{padding:10}},[e(\"div\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(t._s(t.$t(\"m.ACM_Ranklist\")))]),t._v(\" \"),e(\"div\",{staticClass:\"echarts\"},[e(\"ECharts\",{ref:\"chart\",attrs:{options:t.options,\"auto-resize\":\"\"}})],1)]),t._v(\" \"),e(\"Table\",{attrs:{data:t.dataRank,columns:t.columns,loading:t.loadingTable,size:\"large\"}}),t._v(\" \"),e(\"Pagination\",{attrs:{total:t.total,\"page-size\":t.limit,current:t.page,\"show-sizer\":\"\"},on:{\"update:pageSize\":function(a){t.limit=a},\"update:page-size\":function(a){t.limit=a},\"update:current\":function(a){t.page=a},\"on-change\":t.getRankData,\"on-page-size-change\":function(a){return t.getRankData(1)}}})],1)],1)},staticRenderFns:[]};var u=e(\"VU/8\")(o,l,!1,function(t){e(\"8Yd/\")},\"data-v-2aba2f04\",null);a.default=u.exports},sW7o:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=e(\"8Q2T\"),i=e(\"26Oo\"),s=e(\"oAV5\"),r=e(\"FN8c\"),o={name:\"acm-rank\",components:{Pagination:i.a},data:function(){var t=this;return{page:1,limit:30,total:0,dataRank:[],columns:[{align:\"center\",width:60,render:function(a,e){return a(\"span\",{},e.index+(t.page-1)*t.limit+1)}},{title:this.$i18n.t(\"m.User_User\"),align:\"center\",render:function(a,e){return a(\"a\",{style:{display:\"inline-block\",\"max-width\":\"200px\"},on:{click:function(){t.$router.push({name:\"user-home\",query:{username:e.row.user.username}})}}},e.row.user.username)}},{title:this.$i18n.t(\"m.mood\"),align:\"center\",key:\"mood\"},{title:this.$i18n.t(\"m.Score\"),align:\"center\",key:\"total_score\"},{title:this.$i18n.t(\"m.AC\"),align:\"center\",key:\"accepted_number\"},{title:this.$i18n.t(\"m.Total\"),align:\"center\",key:\"submission_number\"},{title:this.$i18n.t(\"m.Rating\"),align:\"center\",render:function(t,a){return t(\"span\",s.a.getACRate(a.row.accepted_number,a.row.submission_number))}}],options:{tooltip:{trigger:\"axis\"},legend:{data:[this.$i18n.t(\"m.Score\")]},grid:{x:\"3%\",x2:\"3%\"},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:[\"line\",\"bar\"]},saveAsImage:{show:!0}},right:\"10%\"},calculable:!0,xAxis:[{type:\"category\",data:[\"root\"],boundaryGap:!0,axisLabel:{interval:0,showMinLabel:!0,showMaxLabel:!0,align:\"center\",formatter:function(t,a){return s.a.breakLongWords(t,14)}},axisTick:{alignWithLabel:!0}}],yAxis:[{type:\"value\"}],series:[{name:this.$i18n.t(\"m.Score\"),type:\"bar\",data:[0],barMaxWidth:\"80\",markPoint:{data:[{type:\"max\",name:\"max\"}]}}]}}},mounted:function(){this.getRankData(1)},methods:{getRankData:function(t){var a=this,e=(t-1)*this.limit,i=this.$refs.chart;i.showLoading({maskColor:\"rgba(250, 250, 250, 0.8)\"}),n.a.getUserRank(e,this.limit,r.g.OI).then(function(e){1===t&&a.changeCharts(e.data.data.results.slice(0,10)),a.total=e.data.data.total,a.dataRank=e.data.data.results,i.hideLoading()})},changeCharts:function(t){var a=[],e=[];t.forEach(function(t){a.push(t.user.username),e.push(t.total_score)}),this.options.xAxis[0].data=a,this.options.series[0].data=e}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[e(\"Col\",{attrs:{span:22}},[e(\"Panel\",{attrs:{padding:10}},[e(\"div\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(t._s(t.$t(\"m.OI_Ranklist\")))]),t._v(\" \"),e(\"div\",{staticClass:\"echarts\"},[e(\"ECharts\",{ref:\"chart\",attrs:{options:t.options,\"auto-resize\":\"\"}})],1)]),t._v(\" \"),e(\"Table\",{attrs:{data:t.dataRank,columns:t.columns,size:\"large\"}}),t._v(\" \"),e(\"Pagination\",{attrs:{total:t.total,\"page-size\":t.limit,current:t.page,\"show-sizer\":\"\"},on:{\"update:pageSize\":function(a){t.limit=a},\"update:page-size\":function(a){t.limit=a},\"update:current\":function(a){t.page=a},\"on-change\":t.getRankData,\"on-page-size-change\":function(a){return t.getRankData(1)}}})],1)],1)},staticRenderFns:[]};var u=e(\"VU/8\")(o,l,!1,function(t){e(\"dUHu\")},\"data-v-ed093576\",null);a.default=u.exports}});","extractedComments":[]}